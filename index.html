<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Email</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for Inter - Tailwind default is Inter, but good to ensure */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom styles for dropdowns */
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem; /* Space for the custom arrow */
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-3xl space-y-8">
        <h1 class="text-4xl font-extrabold text-center text-gray-800 mb-8">
            Generator Alamat Email
        </h1>

        <!-- Gmail Inbox Information Section -->
        <div class="bg-yellow-50 p-6 rounded-lg shadow-inner border border-yellow-200">
            <h2 class="text-2xl font-bold text-yellow-800 mb-4 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.9 4.6L21 8"/>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20 7.5L12.5 13.5M4 7.5L11.5 13.5"/>
                    <rect x="3" y="6" width="18" height="12" rx="2" ry="2"/>
                </svg>
                Info Penting Gmail Dot
            </h2>
            <p class="text-gray-600 text-center mb-4">
                Semua variasi alamat email Gmail dengan titik (dot) akan masuk ke satu inbox yang sama. Yaitu:
            </p>
            <p class="text-center font-bold text-lg text-gray-800 p-3 border-2 border-yellow-400 rounded-lg bg-yellow-100 mx-auto max-w-xs break-all">
                terimajalah@gmail.com
            </p>
            <p class="text-gray-600 text-center mt-4 mb-6">
                akan masuk ke inbox yang sama. Anda dapat menggunakan ini untuk melacak sumber email atau mendaftar ke layanan berbeda.
            </p>
            <div class="flex justify-center">
                <button
                    id="checkInboxBtn"
                    class="bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105"
                >
                    Cek Inbox Gmail
                </button>
            </div>
        </div>

        <div class="border-t border-gray-200 my-8"></div>

        <!-- Gmail Dot Generator Section -->
        <div class="bg-blue-50 p-6 rounded-lg shadow-inner border border-blue-200">
            <h2 class="text-2xl font-bold text-blue-800 mb-4 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.9 4.6L21 8"/>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20 7.5L12.5 13.5M4 7.5L11.5 13.5"/>
                    <rect x="3" y="6" width="18" height="12" rx="2" ry="2"/>
                </svg>
                Generator Gmail Dot
            </h2>
            <p class="text-gray-600 text-center mb-6">
                Pilih nama pengguna Gmail Anda untuk menghasilkan semua variasi titik.
            </p>
            <div class="flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                <select
                    id="gmailDropdown"
                    class="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-sm text-gray-700 w-full"
                >
                    <!-- Options will be populated by JavaScript -->
                </select>
                <span class="text-lg font-medium text-gray-600">@gmail.com</span>
                <button
                    id="generateDotsBtn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 w-full sm:w-auto"
                >
                    Hasilkan Dot
                </button>
            </div>
            <div id="dotResults" class="bg-white p-4 rounded-lg border border-gray-200 min-h-[100px] max-h-[300px] overflow-y-auto shadow-inner">
                <p class="text-gray-500 text-center">Hasil akan muncul di sini.</p>
            </div>
            <p class="text-xs text-gray-500 text-center mt-4">
                *Catatan: Semua variasi alamat email Gmail dengan titik (.) akan masuk ke inbox yang sama.
            </p>
        </div>

        <div class="border-t border-gray-200 my-8"></div>

        <!-- Custom Email Address Creator Section -->
        <div class="bg-green-50 p-6 rounded-lg shadow-inner border border-green-200">
            <h2 class="text-2xl font-bold text-green-800 mb-4 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                </svg>
                Pembuat Alamat Email Kustom & Dot
            </h2>
            <p class="text-gray-600 text-center mb-6">
                Hasilkan nama pengguna secara acak dan buat variasi alamat email Anda dengan domain kustom pilihan Anda.
            </p>
            <div class="flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                <button
                    id="randomUsernameBtn"
                    class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 w-full sm:w-auto flex items-center justify-center space-x-2"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004 12c0 2.973 1.25 5.66 3.245 7.53l1.524-1.524m0 0l-1.524 1.524L7.53 18.75m4.5-9a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"/>
                    </svg>
                    <span>Acak</span>
                </button>
                <div
                    id="customUsernameDisplay"
                    class="flex-1 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 w-full text-center font-mono break-all"
                >
                    <!-- Random username will be displayed here -->
                </div>
                <span class="text-lg font-medium text-gray-600">@</span>
                <select
                    id="customDomainDropdown"
                    class="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 shadow-sm text-gray-700 w-full"
                >
                    <!-- Options will be populated by JavaScript -->
                </select>
                <button
                    id="generateCustomBtn"
                    class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 w-full sm:w-auto"
                >
                    Hasilkan Alamat
                </button>
            </div>
            <div id="customResults" class="bg-white p-4 rounded-lg border border-gray-200 min-h-[100px] max-h-[300px] overflow-y-auto shadow-inner">
                <p class="text-gray-500 text-center">Hasil akan muncul di sini.</p>
            </div>
        </div>

        <!-- Message Box for copy confirmation -->
        <div id="messageBox" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
            <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                <p id="messageText" class="text-lg font-semibold text-gray-800 mb-4"></p>
                <button id="closeMessageBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                    Oke
                </button>
            </div>
        </div>

    </div>

    <script>
        // Data for dropdowns
        const gmailUsernames = [
            "penggunaanda", "namasaya", "userku", "akun.utama", "email.baru",
            "testuser1", "proyekku", "informasi", "kontakbisnis", "aplikasiuser"
        ];

        const customDomains = [
            "fstudio.biz.id", "freshgreen.my.id"
        ];

        // Function to show a custom message box
        function showMessageBox(message) {
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');
            messageText.textContent = message;
            messageBox.classList.remove('hidden');
        }

        // Event listener for closing the message box
        document.getElementById('closeMessageBtn').addEventListener('click', function() {
            document.getElementById('messageBox').classList.add('hidden');
        });

        // Function to populate a dropdown with options
        function populateDropdown(dropdownId, optionsArray) {
            const dropdown = document.getElementById(dropdownId);
            dropdown.innerHTML = ''; // Clear existing options
            optionsArray.forEach(optionText => {
                const option = document.createElement('option');
                option.value = optionText;
                option.textContent = optionText;
                dropdown.appendChild(option);
            });
        }

        // Function to generate a random alphanumeric string for username
        function generateRandomString(length) {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            const charactersLength = characters.length;
            for (let i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return result;
        }

        // Populate dropdowns and set initial random username on page load
        document.addEventListener('DOMContentLoaded', () => {
            populateDropdown('gmailDropdown', gmailUsernames);
            populateDropdown('customDomainDropdown', customDomains);
            // Set initial random username for custom email generator
            document.getElementById('customUsernameDisplay').textContent = generateRandomString(10);
        });


        // Reusable function to generate email variations (dots only)
        function generateEmailVariations(baseUsername, domain) {
            const generatedEmails = new Set();
            // Remove any existing dots and normalize username to lowercase for processing
            const cleanUsername = baseUsername.replace(/\./g, '').toLowerCase();

            // Recursive function to generate dot combinations
            function generateDotCombinations(prefix, suffix) {
                // Base case: If no suffix left, add the generated email to the set
                if (suffix.length === 0) {
                    generatedEmails.add(`${prefix}@${domain}`);
                    return;
                }

                // Recursive call 1: Don't add a dot before the current character
                generateDotCombinations(prefix + suffix[0], suffix.substring(1));

                // Recursive call 2: Add a dot before the current character (if not leading)
                // This condition prevents adding a dot at the very beginning of the username (e.g., ".user@domain.com")
                if (prefix.length > 0) {
                    generateDotCombinations(prefix + '.' + suffix[0], suffix.substring(1));
                }
            }

            // Start generation for dot combinations if username is not empty
            if (cleanUsername.length > 0) {
                generateDotCombinations(cleanUsername[0], cleanUsername.substring(1));
            } else {
                // If username is empty, just add the base domain (unlikely with current setup)
                generatedEmails.add(`@${domain}`);
            }

            // Convert set to array, sort alphabetically, and return
            return Array.from(generatedEmails).sort();
        }

        // Function to render the list of emails in a given result container
        function renderEmailList(containerId, emails) {
            const containerDiv = document.getElementById(containerId);
            containerDiv.innerHTML = ''; // Clear previous results

            if (emails.length === 0) {
                containerDiv.innerHTML = '<p class="text-gray-500 text-center">Tidak ada variasi yang dihasilkan.</p>';
                return;
            }

            const ul = document.createElement('ul');
            ul.className = 'space-y-2';

            emails.forEach(email => {
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between bg-gray-50 p-2 rounded-md border border-gray-200 text-gray-800 text-sm break-all';
                li.innerHTML = `
                    <span>${email}</span>
                    <button class="copy-btn ml-2 p-1 bg-blue-200 hover:bg-blue-300 rounded-md transition duration-200" data-email="${email}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1.428m-6.478-2.572L12 10.976l4.478 2.572M8 7v4a2 2 0 002 2h4a2 2 0 002-2V7m-4 5h.01"/>
                        </svg>
                    </button>
                `;
                ul.appendChild(li);
            });
            containerDiv.appendChild(ul);

            // Add copy functionality to all dynamically created copy buttons within this container
            containerDiv.querySelectorAll('.copy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const emailToCopy = this.getAttribute('data-email');
                    try {
                        const textarea = document.createElement('textarea');
                        textarea.value = emailToCopy;
                        textarea.style.position = 'fixed';
                        textarea.style.opacity = 0;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textarea);
                        showMessageBox(`'${emailToCopy}' telah disalin!`);
                    } catch (err) {
                        console.error('Gagal menyalin:', err);
                        showMessageBox('Gagal menyalin alamat email.');
                    }
                });
            });
        }

        // --- Gmail Inbox Information Logic ---
        document.getElementById('checkInboxBtn').addEventListener('click', function() {
            // Redirect to Gmail inbox URL
            window.open('https://mail.google.com/mail/u/0/#inbox', '_blank');
        });

        // --- Gmail Dot Generator Logic ---
        document.getElementById('generateDotsBtn').addEventListener('click', function() {
            const gmailDropdown = document.getElementById('gmailDropdown');
            const selectedUsername = gmailDropdown.value.trim();

            if (!selectedUsername) {
                showMessageBox("Silakan pilih nama pengguna Gmail dari dropdown.");
                return;
            }

            // Use the reusable function for Gmail domain
            const generatedEmails = generateEmailVariations(selectedUsername, 'gmail.com');
            renderEmailList('dotResults', generatedEmails);
        });

        // --- Custom Email Address Creator Logic ---
        document.getElementById('randomUsernameBtn').addEventListener('click', function() {
            document.getElementById('customUsernameDisplay').textContent = generateRandomString(10);
            document.getElementById('customResults').innerHTML = '<p class="text-gray-500 text-center">Hasil akan muncul di sini.</p>'; // Clear results on new random username
        });

        document.getElementById('generateCustomBtn').addEventListener('click', function() {
            const selectedCustomUsername = document.getElementById('customUsernameDisplay').textContent.trim();
            const customDomainDropdown = document.getElementById('customDomainDropdown');
            const selectedCustomDomain = customDomainDropdown.value.trim();

            if (!selectedCustomUsername || !selectedCustomDomain) {
                showMessageBox("Silakan hasilkan nama pengguna acak DAN pilih domain kustom.");
                return;
            }

            // Use the reusable function for custom domain
            const generatedEmails = generateEmailVariations(selectedCustomUsername, selectedCustomDomain);
            renderEmailList('customResults', generatedEmails);
        });
    </script>
</body>
</html>
